<div class="px-4 md:px-10 sticky top-4 z-50">
  <div class="mx-auto container">
    <nav class="block w-full max-w-screen-2xl rounded-xl px-4 md:px-8 shadow-md backdrop-saturate-200 backdrop-blur-2xl bg-opacity-80 border-white/80 bg-white text-white z-50 mt-6 relative border-0 pr-3 py-3 pl-6">
      <div class="flex items-center justify-between">
  <a class="block antialiased font-black text-black text-lg text-left lg:text-left lowercase" href="/">Synagogue.Church</a>
  <ul class="ml-10 hidden items-center gap-8 lg:flex">
            <li><a href="#meeting-times" class="antialiased font-black text-black text-lg lowercase px-3 py-2 rounded transition-all flex items-center gap-2">Meeting times</a></li>
            <li><a href="#gather" class="antialiased font-black text-black text-lg lowercase px-3 py-2 rounded transition-all flex items-center gap-2">Gather</a></li>
            <li><a href="#read" class="antialiased font-black text-black text-lg lowercase px-3 py-2 rounded transition-all flex items-center gap-2">Read</a></li>
            <li><a href="#pray" class="antialiased font-black text-black text-lg lowercase px-3 py-2 rounded transition-all flex items-center gap-2">Pray</a></li>
            <li><a href="#public-reading-short" class="antialiased font-black text-black text-lg lowercase px-3 py-2 rounded transition-all flex items-center gap-2">Public Reading</a></li>
        </ul>

        <button id="mobile-menu-toggle" class="relative align-middle select-none font-sans font-medium text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none w-10 max-w-[40px] h-10 max-h-[40px] rounded-lg text-xs text-gray-900 hover:bg-gray-900/10 active:bg-gray-900/20 ml-auto inline-block lg:hidden" type="button" aria-label="Open menu">
          <span class="absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" stroke-width="2" class="h-6 w-6"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg>
          </span>
        </button>
      </div>
    </nav>
  </div>
</div>
{% include "mobile-menu.njk" %}
<script>
  (function() {
    const toggle = document.getElementById('mobile-menu-toggle');
    const menu = document.getElementById('mobile-menu');
    const closeBtn = document.getElementById('mobile-menu-close');
    let open = false;

    function openMenu() {
      if (!menu) return;
      menu.classList.remove('translate-y-full', 'invisible', 'opacity-0');
      menu.classList.add('translate-y-0', 'visible', 'opacity-100');
      open = true;
    }

    function closeMenu() {
      if (!menu) return;
      menu.classList.add('translate-y-full', 'invisible', 'opacity-0');
      menu.classList.remove('translate-y-0', 'visible', 'opacity-100');
      open = false;
    }

    if (toggle) {
      toggle.addEventListener('click', (e) => {
        e.stopPropagation();
        if (open) closeMenu(); else openMenu();
      });
    }

    if (closeBtn) {
      closeBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        closeMenu();
      });
    }

    // Close when clicking outside the menu or the toggle
    document.addEventListener('click', (e) => {
      if (!open) return;
      const t = e.target;
      if (!menu.contains(t) && !(toggle && toggle.contains(t))) {
        closeMenu();
      }
    });

    // Close on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && open) closeMenu();
    });
  })();
</script>
      </div>
    </nav>
  </div>
</div>
{# end of navbar #}